import{a as u,b as H,c as B}from"./chunk-23LM47BA.js";import"./chunk-IOWKPROO.js";import"./chunk-DPANKXLK.js";import"./chunk-CYVSBQXJ.js";import"./chunk-YMI2B6JE.js";import"./chunk-56JUEHCE.js";import"./chunk-HC6MZPB3.js";import"./chunk-RACYT2UM.js";import"./chunk-FERD25SW.js";import"./chunk-6QSKDU45.js";import"./chunk-EQKTRDAQ.js";import"./chunk-CVTP67B6.js";import"./chunk-XDLFVO2Q.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-3VH6S6PX.js";import"./chunk-MCRJI3T3.js";import"./chunk-PAWARGFM.js";import"./chunk-MBM5QKYF.js";import{$a as I,Ab as T,Bb as L,Cb as R,Eb as U,Gb as W,Ja as P,Lb as F,Ma as b,Mb as A,N as p,Na as x,Sa as O,T as w,Xa as v,_a as k,cb as S,db as N,ea as n,fa as d,ga as a,la as C,t as M,ta as y,vb as j,wa as c,wb as E,x as s,xa as m,ya as f,za as _}from"./chunk-GNEIKRVV.js";import"./chunk-DAWHLEXZ.js";import"./chunk-WFGCMBXI.js";import"./chunk-CKLPUTF7.js";import"./chunk-VSMVHN34.js";import"./chunk-SARY5JFI.js";import"./chunk-RODA7RWT.js";import"./chunk-ODME3OG3.js";import"./chunk-4U6PRYVA.js";import"./chunk-73DPBITC.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{i as g}from"./chunk-OYAVQN5W.js";var D=(()=>{let e=class e{constructor(){this.http=s(x),this.apiUrl=`${H.SERVERURL}/jderest/v2/tokenrequest`}retrieveToken(l){return this.http.post(this.apiUrl,JSON.stringify(l),{headers:new b().set("Content-Type","application/json")})}};e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let o=e;return o})();var re=(()=>{let e=class e{constructor(){this.userName="",this.password="",this.environment="",this.errorMsg="",this.storage=s(u),this.loginsrvc=s(D),this.router=s(O),this.utility=s(B)}ngOnInit(){return g(this,null,function*(){this.errorMsg="",yield this.storage.create()})}onLogin(){return g(this,null,function*(){if(console.log("Username:",this.userName),console.log("Password:",this.password),this.userName===""||this.password===""){this.utility.showErrorPopup("Please enter valid credentials");return}let l={username:this.userName,password:this.password};this.loginsrvc.retrieveToken(l).subscribe({next:t=>{t.userInfo?(console.log("Token retrieved:",t),this.storage.set("token",t.userInfo.token).then(()=>{this.storage.set("addressNo",t.userInfo.addressNumber),console.log("Token and AN8 stored successfully"),this.router.navigate(["/orders"])})):console.error("Invalid response:",t)},error:t=>g(this,null,function*(){this.utility.showErrorPopup(t.error.message)})})})}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=w({type:e,selectors:[["app-login"]],features:[_([u])],decls:19,vars:2,consts:[["id","bg"],[1,"logo-row"],[1,"center"],["ion","","padding","",1,"login-Header"],["src","../assets/images/lifescan_icon.png",1,"logo-img"],["linespace",""],["transparent",""],["name","username"],["name","userName","type","text","placeholder","User Name",3,"ngModelChange","ngModel"],["name","password"],["name","password","type","password","placeholder","Password",3,"ngModelChange","ngModel"],["expand","block",3,"click"]],template:function(t,i){t&1&&(n(0,"ion-content")(1,"div",0)(2,"ion-row",1)(3,"ion-col"),a(4,"ion-card"),d()(),n(5,"div",2)(6,"div",3),a(7,"img",4),d(),n(8,"ion-grid"),a(9,"div",5),n(10,"ion-item",6),a(11,"ion-icon",7),n(12,"ion-input",8),f("ngModelChange",function(r){return m(i.userName,r)||(i.userName=r),r}),d()(),n(13,"ion-item",6),a(14,"ion-icon",9),n(15,"ion-input",10),f("ngModelChange",function(r){return m(i.password,r)||(i.password=r),r}),d()(),a(16,"div",5),n(17,"ion-button",11),C("click",function(){return i.onLogin()}),y(18,"Sign in"),d()()()()()),t&2&&(p(12),c("ngModel",i.userName),p(3),c("ngModel",i.password))},dependencies:[A,W,E,T,j,F,U,R,L,P,S,k,I,N,v],styles:[".scroll-content[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;justify-content:center;overflow-y:auto}[transparent][_ngcontent-%COMP%]{--background: transparent}.logo-img[_ngcontent-%COMP%]{width:160px;height:auto;margin-bottom:15px;animation:scaleIn .6s ease-in-out;display:block;margin-left:auto;margin-right:auto}ion-input[_ngcontent-%COMP%]{--color: rgb(33, 44, 140);--padding-bottom: 15px;--padding-top: 15px;--padding-start: 15px;font-size:15px;text-indent:1px;padding-left:10px!important}[icon-small][_ngcontent-%COMP%]{width:30px}ion-item[_ngcontent-%COMP%]{--hightlight-color-focused: transparent;--min-height: 65px;-padding-start:0px}[linespace][_ngcontent-%COMP%]{height:30px}.center[_ngcontent-%COMP%]{position:absolute;left:50%;top:40%;-webkit-transform:translate(-49%,-49%);transform:translate(-49%,-49%);width:90%}ion-button[_ngcontent-%COMP%]{--background: linear-gradient(rgb(31, 21, 90) , rgb(44, 37, 145));--color: #ffffff}.login[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:block;width:100%}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-input[type=text][_ngcontent-%COMP%]{box-shadow:inset 0 0 8px #4d4d4ffb,0 0 16px #4d4d4f1a;background:#ffffff80;margin:0 0 1px}.login[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-input[type=password][_ngcontent-%COMP%]{box-shadow:inset 0 0 8px #4d4d4ffb,0 0 16px #4d4d4f1a;background:#ffffff80;margin:0 0 1px}.logo-row[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:20px}#custom-overlay[_ngcontent-%COMP%]{position:fixed;top:0;right:0;bottom:0;left:0;z-index:100000;width:100%;background-color:#002a3e}.flb[_ngcontent-%COMP%]{background:linear-gradient(#6e66d7,#fefefe);height:100%;width:100%;animation:pulse 1s linear forwards;display:flex;align-items:center;justify-content:center}.Aligner-item[_ngcontent-%COMP%]{max-width:50%}.Aligner-item--top[_ngcontent-%COMP%]{align-self:flex-start}.Aligner-item--bottom[_ngcontent-%COMP%]{align-self:flex-end}"]});let o=e;return o})();export{re as LoginPage};
